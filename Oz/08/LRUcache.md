### **–ß—Ç–æ —Ç–∞–∫–æ–µ LRU Cache?**

**LRU (Least Recently Used) Cache** ‚Äî —ç—Ç–æ –∫–µ—à —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º —Ä–∞–∑–º–µ—Ä–æ–º, –∫–æ—Ç–æ—Ä—ã–π —É–¥–∞–ª—è–µ—Ç **–Ω–∞–∏–º–µ–Ω–µ–µ –Ω–µ–¥–∞–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ** —ç–ª–µ–º–µ–Ω—Ç—ã –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö, –µ—Å–ª–∏ —Ä–∞–∑–º–µ—Ä –∫–µ—à–∞ –ø—Ä–µ–≤—ã—à–∞–µ—Ç –µ–≥–æ –≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å. –≠—Ç–æ –ø–æ–ª–µ–∑–Ω–æ –≤ —Å–∏—Å—Ç–µ–º–∞—Ö, –≥–¥–µ —á–∞—Å—Ç–æ –æ–±—Ä–∞—â–∞—é—Ç—Å—è –∫ –ø–æ—Å–ª–µ–¥–Ω–∏–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–º –¥–∞–Ω–Ω—ã–º, –∏ —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å.

---

### **–ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã LRU Cache**

#### **–®–∞–≥–∏ –∏–∑ –ø—Ä–∏–º–µ—Ä–∞:**
1. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è:**
   - –°–æ–∑–¥–∞—ë–º –∫–µ—à —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å—é `capacity = 2`.

2. **–û–ø–µ—Ä–∞—Ü–∏–∏:**
   - `cache.put(A, 1)`:
     - –î–æ–±–∞–≤–ª—è–µ–º —ç–ª–µ–º–µ–Ω—Ç A=1. –ö–µ—à: `{A=1}`.
   - `cache.put(B, 2)`:
     - –î–æ–±–∞–≤–ª—è–µ–º —ç–ª–µ–º–µ–Ω—Ç B=2. –ö–µ—à: `{A=1, B=2}`.
   - `cache.get(A)`:
     - –î–æ—Å—Ç—É–ø –∫ A. A —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è "–Ω–µ–¥–∞–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–º". –ö–µ—à –æ—Å—Ç–∞—ë—Ç—Å—è `{A=1, B=2}`.
   - `cache.put(C, 3)`:
     - –î–æ–±–∞–≤–ª—è–µ–º C=3. –ö–µ—à –ø—Ä–µ–≤—ã—à–∞–µ—Ç —Ä–∞–∑–º–µ—Ä, —É–¥–∞–ª—è–µ–º "–Ω–∞–∏–º–µ–Ω–µ–µ –Ω–µ–¥–∞–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–π" —ç–ª–µ–º–µ–Ω—Ç (B). –ö–µ—à: `{A=1, C=3}`.
   - `cache.get(B)`:
     - –≠–ª–µ–º–µ–Ω—Ç B –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç. –í–æ–∑–≤—Ä–∞—â–∞–µ–º `-1`.
   - `cache.put(D, 4)`:
     - –î–æ–±–∞–≤–ª—è–µ–º D=4. –£–¥–∞–ª—è–µ–º A (—Å–∞–º—ã–π —Å—Ç–∞—Ä—ã–π). –ö–µ—à: `{C=3, D=4}`.
   - `cache.get(A)`:
     - –≠–ª–µ–º–µ–Ω—Ç A –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç. –í–æ–∑–≤—Ä–∞—â–∞–µ–º `-1`.
   - `cache.get(C)`:
     - –î–æ—Å—Ç—É–ø –∫ C. –í–æ–∑–≤—Ä–∞—â–∞–µ–º `3`.
   - `cache.get(D)`:
     - –î–æ—Å—Ç—É–ø –∫ D. –í–æ–∑–≤—Ä–∞—â–∞–µ–º `4`.

---

### **–ö–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω LRU Cache?**

–î–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ LRU Cache –Ω–∞–º –Ω—É–∂–Ω–æ:
1. **–•–µ—à-—Ç–∞–±–ª–∏—Ü–∞** –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º –ø–æ –∫–ª—é—á—É (–æ–ø–µ—Ä–∞—Ü–∏–∏ `get` –∏ `put`).
2. **–î–≤—É—Å–≤—è–∑–Ω—ã–π —Å–ø–∏—Å–æ–∫** –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø–æ—Ä—è–¥–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

#### **–ü–æ—á–µ–º—É –∏–º–µ–Ω–Ω–æ —ç—Ç–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:**
- **–•–µ—à-—Ç–∞–±–ª–∏—Ü–∞:**
  - –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –¥–æ—Å—Ç—É–ø –∫ —ç–ª–µ–º–µ–Ω—Ç–∞–º –∑–∞ \(O(1)\) –ø–æ –∫–ª—é—á—É.
- **–î–≤—É—Å–≤—è–∑–Ω—ã–π —Å–ø–∏—Å–æ–∫:**
  - –ü–æ–∑–≤–æ–ª—è–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –ø–µ—Ä–µ–º–µ—â–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã (–≤—Å—Ç–∞–≤–∫–∞/—É–¥–∞–ª–µ–Ω–∏–µ) –≤ –Ω–∞—á–∞–ª–æ –∏–ª–∏ –∫–æ–Ω–µ—Ü –∑–∞ \(O(1)\).

---

### **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö**

#### **1. –•–µ—à-—Ç–∞–±–ª–∏—Ü–∞**
- –•—Ä–∞–Ω–∏—Ç –ø–∞—Ä—ã `key -> Node`, –≥–¥–µ `Node` ‚Äî —ç—Ç–æ —É–∑–µ–ª –¥–≤—É—Å–≤—è–∑–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞.

#### **2. –î–≤—É—Å–≤—è–∑–Ω—ã–π —Å–ø–∏—Å–æ–∫**
- –£–∑–µ–ª —Å–æ–¥–µ—Ä–∂–∏—Ç:
  - `key`: –∫–ª—é—á —ç–ª–µ–º–µ–Ω—Ç–∞.
  - `value`: –∑–Ω–∞—á–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞.
  - `prev`: —Å—Å—ã–ª–∫–∞ –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏–π —É–∑–µ–ª.
  - `next`: —Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π —É–∑–µ–ª.
- –°–∞–º—ã–π —Å—Ç–∞—Ä—ã–π —ç–ª–µ–º–µ–Ω—Ç —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ **–≥–æ–ª–æ–≤–µ** —Å–ø–∏—Å–∫–∞.
- –°–∞–º—ã–π –Ω–µ–¥–∞–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ **—Ö–≤–æ—Å—Ç–µ** —Å–ø–∏—Å–∫–∞.

---

### **–ê–ª–≥–æ—Ä–∏—Ç–º –æ–ø–µ—Ä–∞—Ü–∏–π**

#### **1. `get(key)`**
- –ï—Å–ª–∏ –∫–ª—é—á —Å—É—â–µ—Å—Ç–≤—É–µ—Ç:
  - –ü–æ–ª—É—á–∞–µ–º —É–∑–µ–ª —á–µ—Ä–µ–∑ —Ö–µ—à-—Ç–∞–±–ª–∏—Ü—É.
  - –ü–µ—Ä–µ–º–µ—â–∞–µ–º —É–∑–µ–ª –≤ —Ö–≤–æ—Å—Ç —Å–ø–∏—Å–∫–∞ (—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Å–∞–º—ã–º –Ω–µ–¥–∞–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–º).
  - –í–æ–∑–≤—Ä–∞—â–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ.
- –ï—Å–ª–∏ –∫–ª—é—á –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç:
  - –í–æ–∑–≤—Ä–∞—â–∞–µ–º `-1`.

#### **2. `put(key, value)`**
- –ï—Å–ª–∏ –∫–ª—é—á —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç:
  - –û–±–Ω–æ–≤–ª—è–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ –≤ —É–∑–ª–µ.
  - –ü–µ—Ä–µ–º–µ—â–∞–µ–º —É–∑–µ–ª –≤ —Ö–≤–æ—Å—Ç —Å–ø–∏—Å–∫–∞.
- –ï—Å–ª–∏ –∫–ª—é—á –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç:
  - –ï—Å–ª–∏ –∫–µ—à –∑–∞–ø–æ–ª–Ω–µ–Ω:
    - –£–¥–∞–ª—è–µ–º —É–∑–µ–ª –∏–∑ –≥–æ–ª–æ–≤—ã —Å–ø–∏—Å–∫–∞ (–Ω–∞–∏–º–µ–Ω–µ–µ –Ω–µ–¥–∞–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–π).
    - –£–¥–∞–ª—è–µ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –∫–ª—é—á –∏–∑ —Ö–µ—à-—Ç–∞–±–ª–∏—Ü—ã.
  - –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–π —É–∑–µ–ª –≤ —Ö–≤–æ—Å—Ç —Å–ø–∏—Å–∫–∞.
  - –î–æ–±–∞–≤–ª—è–µ–º –∑–∞–ø–∏—Å—å –≤ —Ö–µ—à-—Ç–∞–±–ª–∏—Ü—É.

---

### **–ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã**

**–ò–ª–ª—é—Å—Ç—Ä–∞—Ü–∏—è:**

```plaintext
–ò–∑–Ω–∞—á–∞–ª—å–Ω–æ:
[head] <-> [A=1] <-> [B=2] <-> [tail]

1. get(A):
   [head] <-> [B=2] <-> [A=1] <-> [tail]

2. put(C, 3):
   –£–¥–∞–ª—è–µ–º "B=2":
   [head] <-> [A=1] <-> [C=3] <-> [tail]

3. put(D, 4):
   –£–¥–∞–ª—è–µ–º "A=1":
   [head] <-> [C=3] <-> [D=4] <-> [tail]
```

---

### **–ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã**

- **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Ä—è–¥–∫–∞:**
  - –õ—é–±–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è `get` –∏–ª–∏ `put` –æ–±–Ω–æ–≤–ª—è–µ—Ç –ø–æ—Ä—è–¥–æ–∫ –≤ –¥–≤—É—Å–≤—è–∑–Ω–æ–º —Å–ø–∏—Å–∫–µ.

- **–£–¥–∞–ª–µ–Ω–∏–µ —Å–∞–º–æ–≥–æ —Å—Ç–∞—Ä–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞:**
  - –ï—Å–ª–∏ –∫–µ—à –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω, —É–¥–∞–ª—è–µ–º —ç–ª–µ–º–µ–Ω—Ç –∏–∑ –≥–æ–ª–æ–≤—ã —Å–ø–∏—Å–∫–∞.

---

### **–°–ª–æ–∂–Ω–æ—Å—Ç–∏ –æ–ø–µ—Ä–∞—Ü–∏–π**

| –û–ø–µ—Ä–∞—Ü–∏—è | –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö  | –°–ª–æ–∂–Ω–æ—Å—Ç—å |
|----------|--------------------|-----------|
| `get`    | –•–µ—à-—Ç–∞–±–ª–∏—Ü–∞        | \(O(1)\)  |
| `put`    | –•–µ—à-—Ç–∞–±–ª–∏—Ü–∞ + —Å–ø–∏—Å–æ–∫ | \(O(1)\) |

---

### **–ò—Ç–æ–≥**

LRU Cache ‚Äî —ç—Ç–æ –∫–æ–º–±–∏–Ω–∞—Ü–∏—è —Ö–µ—à-—Ç–∞–±–ª–∏—Ü—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∏ –¥–≤—É—Å–≤—è–∑–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø–æ—Ä—è–¥–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç:
- –ë—ã—Å—Ç—Ä–æ –Ω–∞—Ö–æ–¥–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã (\(O(1)\)).
- –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ —É–¥–∞–ª—è—Ç—å –∏ –¥–æ–±–∞–≤–ª—è—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã (\(O(1)\)).

–ï—Å–ª–∏ –æ—Å—Ç–∞–ª–∏—Å—å –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –Ω—É–∂–Ω–æ –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –ø–æ–¥—Ä–æ–±–Ω–µ–µ, –ø–∏—à–∏! üòä